/* ============================================================================
   GALLERY & GRID LAYOUTS
   ============================================================================ */

// Galerie principale
.gallery {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    grid-auto-flow: dense;
    grid-auto-columns: min-content;
    margin-top: 4em;
    gap: 10px;
    padding: 20px;
    box-sizing: border-box;

    // Override pour les galeries avec peu d'éléments
    &[data-items="1"],
    &[data-items="2"],
    &[data-items="3"] {
        grid-template-columns: none;
    }

    // Styles adaptatifs pour galeries avec peu d'éléments
    &[data-items="1"] .gallery-item {
        max-width: 100%;
        width: 100%;
    }

    &[data-items="2"] .gallery-item {
        min-height: 300px;
        width: 100%;
    }

    &[data-items="3"] .gallery-item {
        min-height: 250px;
        width: 100%;
    }
}

// Éléments de galerie
.gallery-item {
    transition: 0.2s ease-in-out all;
    min-height: 200px;

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}

// Mini galerie
.minigallery-item {
    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}

// Responsive - Mobile
@media (width <= 767px) {
    .gallery {
        padding: 10px;
        gap: 5px;

        &[data-items="2"] .gallery-item,
        &[data-items="3"] .gallery-item {
            min-height: 200px;
        }
    }
}

// Effets hover
.gallery-item:hover {
    filter: brightness(0.7);
}

// Page spécifique - Histoire
.page-template-page-histoire {
    .gallery-item {
        transform: translateX(50%);
        opacity: 0;
    }
}

// Classes de taille pour les éléments de galerie
.horizontal {
    grid-column: span 2;
}

.vertical {
    grid-row: span 1;
}

.big {
    grid-column: span 2;
    grid-row: span 2;
}

// Mini galerie masonry
.gallery-wrapper {
    margin: 0 auto;
    width: 40%;
    flex-grow: 2;
}

.grid-gallery {
    display: grid;
    gap: 10px;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    grid-template-rows: masonry;
}

// Effets sur les images de mini galerie
.minigallery-item {
    img {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;

        &:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }
    }

    // Loader pour les images
    &.loading {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
    }
}

// Animation de chargement
@keyframes loading {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

// Responsive - Tablette
@media (width <= 768px) {
    .grid-gallery {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
    }
}

// Responsive - Mobile
@media (width <= 480px) {
    .grid-gallery {
        grid-template-columns: 1fr 1fr;
        gap: 8px;
    }
}


.multi-img-col{
    .is-layout-constrained{
        height:auto!important;
    }

    > div{
        width: 100%;
        min-height: 100%;

        img{
            height: 100%;
            object-fit: cover;
        }
    }
}